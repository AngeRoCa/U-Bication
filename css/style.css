:root{
    --bg:#f3f3f3;
    --accent:#0078ff;
    --marker-bg:#ff8a3d;
    --marker-text:#fff;
    --map-max-width:1200px;
  }
  
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter, Arial, sans-serif;background:var(--bg);color:#222}
  a{color:inherit;text-decoration:none}
  
  .centered{max-width:900px;margin:60px auto;padding:20px;text-align:center}
  .menu{display:flex;gap:12px;justify-content:center;margin:18px 0}
  .btn{padding:12px 18px;background:#222;color:#fff;border-radius:8px;display:inline-block}
  
  .topbar{display:flex;align-items:center;gap:12px;padding:12px 16px;background:transparent;flex-wrap:wrap}
  .topbar h2{flex:1;margin:0}
  .topbar .back{font-weight:600}
  .search{display:flex;gap:8px}
  .search input{padding:8px 10px;border:1px solid #ccc;border-radius:6px;min-width:180px}
  .search button{padding:8px 12px;border-radius:6px;border:0;background:var(--accent);color:#fff}
  
  /* CONTENEDOR DEL MAPA */
  .map-wrapper{display:flex;justify-content:center;padding:12px}
  .map-container{
    position:relative;
    width:100%;
    max-width:var(--map-max-width);
    aspect-ratio: 16 / 10; /* fuerza proporción razonable */
    overflow:auto;
    border-radius:6px;
    box-shadow:0 6px 18px rgba(0,0,0,0.08);
    background: #e9e9e9;
  }
  
  /* Imagen del plano (responsive) */
  .map-image{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
    user-select:none;
    -webkit-user-drag:none;
  }
  
  /* Marcadores */
  .marker{
    position:absolute;
    transform:translate(-50%,-50%);
    border:0;
    width:36px;height:36px;
    border-radius:50%;
    display:grid;place-items:center;
    color:var(--marker-text);
    background:var(--marker-bg);
    font-weight:700;
    cursor:pointer;
    box-shadow:0 4px 8px rgba(0,0,0,0.18);
    transition:transform .12s, box-shadow .12s;
  }
  .marker:hover{transform:translate(-50%,-50%) scale(1.08)}
  
  /* resaltado por búsqueda */
  .marker.highlight{
    background: #29a329; /* marcado verde */
    box-shadow:0 6px 18px rgba(0,0,0,0.25);
  }
  
  /* Modal centrado */
  .modal{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
    background:rgba(0,0,0,0.45);visibility:hidden;opacity:0;transition:opacity .18s;
    z-index:1000;padding:18px;
  }
  .modal[aria-hidden="false"]{visibility:visible;opacity:1}
  .modal-content{background:#fff;border-radius:10px;padding:20px;min-width:240px;max-width:90%;box-shadow:0 20px 50px rgba(0,0,0,0.35);position:relative}
  .modal-close{position:absolute;right:10px;top:8px;border:0;background:transparent;font-size:18px;cursor:pointer}
  .modal-body{font-size:18px;font-weight:700;text-align:center;padding:12px}
  
  /* Responsive tweaks */
  @media (max-width:700px){
    :root{--map-max-width:900px}
    .marker{width:30px;height:30px;font-size:14px}
    .search input{min-width:120px}
  }

  .line {
    position: absolute;
    background: red;
    z-index: 2;
  }
  
  .horizontal {
    height: 12px;
  }
  
  .vertical {
    width: 12px;
  }
  .line {
    position: absolute;
    background: var(--accent); /* Usamos el color azul de tu variable --accent */
    z-index: 2;
    border-radius: 4px;
    /* Opcional: añade una animación sutil */
    transition: all 0.5s ease-out; 
}

/* Redefinición para grosor de línea */
.horizontal { 
    height: 8px; /* Un poco más delgado que 12px para verse mejor */
}
.vertical { 
    width: 8px; /* Un poco más delgado que 12px para verse mejor */
}

/* 2. Estilos para resaltar el ORIGEN y el DESTINO (Nodos clave) */
.marker.start-node {
    background: #0078ff; /* Azul (accent) */
    transform: translate(-50%, -50%) scale(1.3); /* Lo hace más grande */
    border: 3px solid #fff; /* Borde blanco para que destaque */
    z-index: 5; /* Asegura que esté por encima de las líneas */
    box-shadow: 0 0 15px rgba(0, 120, 255, 0.7);
}

.marker.end-node {
    background: #ff0000; /* Rojo vibrante */
    transform: translate(-50%, -50%) scale(1.3);
    border: 3px solid #fff;
    z-index: 5;
    box-shadow: 0 0 15px rgba(255, 0, 0, 0.7);
}

/* --- Estilo para la imagen dentro del modal --- */
.modal-image {
    /* Esencial: Limita el ancho al 100% del contenedor del modal */
    max-width: 100%; 
    
    /* Esencial: Mantiene la proporción de la imagen */
    height: auto; 
    
    /* Opcional: Estética */
    display: block; /* Asegura que tome todo el ancho disponible */
    margin: 15px auto 0; /* Centra la imagen y da un margen superior */
    border-radius: 8px; /* Bordes redondeados */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}